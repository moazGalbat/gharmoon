{% extends 'base.html' %}
{% load static %}

{% block title %} Home {% endblock %}
{% block style %}
<style>
    @import url('https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300');
    @import url('https://fonts.googleapis.com/css?family=Noto+Serif:400&text=%E2%80%9C%E2%80%9D%E2%80%98%E2%80%99');



    h1 {
        font-family: 'Noto Serif', 'Open Sans Condensed', sans-serif;
        font-size: 3rem;
        color: #F48930;
        font-weight: 600;

    }

    /* font-family: 'Raleway', sans-serif; */
</style>
{% endblock %}
{% block content %}

{% if messages %}
{% for message in messages %}
<div class="alert {% if message.tags %} alert-{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">{{ message }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
</div>
{% endfor %}
{% endif %}

<img src="{% static 'images/home_photo' %}" alt="My image" style="width: 100%;"/>

<div class="container">
    <div class="container d-flex justify-content-center">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="latestCases-tab" data-toggle="tab" href="#latestCases" role="tab" aria-controls="latestCases" aria-selected="true">Latest Cases</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="highestVotedCases-tab" data-toggle="tab" href="#highestVotedCases" role="tab" aria-controls="highestVotedCases" aria-selected="false">Highest Voted Cases</a>
        </li>
      </ul>
    </div>
    
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="latestCases" role="tabpanel" aria-labelledby="latestCases-tab">
            <div class="row col-lg-12">

                {% for case in latest_cases %}
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="card border-0 shadow mb-4">
                        <!-- Card image -->
                        <!-- Card content -->
                        <div class="card-body border rounded-bottom">
                            <a href="{% url 'view_case' case.id %}" class="card-title">
                                {{case.name}}
                            </a>
                            <!-- <hr> -->
                            <!-- <div class="card-body"> -->
                            <p class="card-text">
                                {{ case.national_id }}
                            </p>
                            <hr>
                            <ul class="list-unstyled d-flex justify-content-between text-center">
                                <li class="pledged">
                                    <p class="font-weight-bold text-dark body-info">Target</p>
                                    <span class="amount">${{case.total_target}}</span>
                                </li>
                            </ul>
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
                {% empty %}
                <h2>Sorry, There are no cases yet</h2>
                {% endfor %}
        
            </div>

        </div>
        <div class="tab-pane fade" id="highestVotedCases" role="tabpanel" aria-labelledby="highestVotedCases-tab">
            <div class="row">
        
        
                {% for high_voted_case in high_voted_set %}
                {% for case in cases %}
                {% if case.id == high_voted_case.case_id %}
        
        
        
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="card border-0 shadow mb-4">
                        <!-- Card image -->
                        <!-- Card content -->
                        <div class="card-body border rounded-bottom">
                            <a href="{% url 'view_case' case.id %}" class="card-title">
                                {{case.name}}
                            </a>
                            <!-- <hr> -->
                            <!-- <div class="card-body"> -->
                            <p class="card-text">
                                {{ case.national_id }}
                            </p>
                            <hr>
                            <ul class="list-unstyled d-flex justify-content-between text-center">
                                <li class="pledged">
                                    <p class="font-weight-bold text-dark body-info">Target</p>
                                    <span class="amount">${{case.total_target}}</span>
                                </li>
                            </ul>
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
        
                {% endif %}
                {% endfor %}
                {% empty %}
                <h2>Sorry, There are no cases yet.</h2>
                {% endfor %}
        
                <!-- end highest voted cases -->
        
        
            </div>
        </div>
      </div>
    
    {% endblock %}